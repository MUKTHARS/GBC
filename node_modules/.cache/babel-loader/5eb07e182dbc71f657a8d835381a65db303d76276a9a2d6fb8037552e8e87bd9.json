{"ast":null,"code":"const CryptoJS=require('crypto-js');const ENCRYPTION_KEY=process.env.REACT_APP_ENCRYPTION_KEY||'fallback-secure-key-2024-construction-pro-max-security';export const encryptUrl=url=>{if(!ENCRYPTION_KEY){console.warn('Encryption key not found, using fallback');return btoa(url);}try{// Create a longer payload with more random data\nconst timestamp=Date.now();const randomString1=Math.random().toString(36).substring(2,15);const randomString2=Math.random().toString(36).substring(2,15);const randomString3=Math.random().toString(36).substring(2,15);const payload=JSON.stringify({target:url,timestamp:timestamp,salt:process.env.REACT_APP_ENCRYPTION_SALT||'construction-pro-salt-2024',random1:randomString1,random2:randomString2,random3:randomString3,version:'2.0',checksum:CryptoJS.MD5(url+timestamp).toString()});// Triple layer encryption for maximum security\nconst layer1=CryptoJS.AES.encrypt(payload,ENCRYPTION_KEY+'1').toString();const layer2=CryptoJS.DES.encrypt(layer1,ENCRYPTION_KEY+'2').toString();const layer3=CryptoJS.TripleDES.encrypt(layer2,ENCRYPTION_KEY+'3').toString();// Base64 encode and add prefix for longer URL\nconst base64Encoded=btoa(layer3);// Make it even longer by adding more random data\nreturn base64Encoded+'&'+Math.random().toString(36).substring(2,25);}catch(error){console.error('Encryption error:',error);return btoa(url);}};export const decryptUrl=encryptedUrl=>{if(!ENCRYPTION_KEY){console.warn('Encryption key not found, using fallback');return atob(encryptedUrl);}try{// Remove the additional random data\nconst base64Part=encryptedUrl.split('&')[0];const decoded=atob(base64Part);// Triple layer decryption\nconst layer3=CryptoJS.TripleDES.decrypt(decoded,ENCRYPTION_KEY+'3');const layer2=layer3.toString(CryptoJS.enc.Utf8);const layer1=CryptoJS.DES.decrypt(layer2,ENCRYPTION_KEY+'2');const payloadStr=layer1.toString(CryptoJS.enc.Utf8);const decrypted=CryptoJS.AES.decrypt(payloadStr,ENCRYPTION_KEY+'1');const finalResult=decrypted.toString(CryptoJS.enc.Utf8);const parsed=JSON.parse(finalResult);return parsed.target;}catch(error){console.error('Decryption error:',error);return atob(encryptedUrl);}};","map":{"version":3,"names":["CryptoJS","require","ENCRYPTION_KEY","process","env","REACT_APP_ENCRYPTION_KEY","encryptUrl","url","console","warn","btoa","timestamp","Date","now","randomString1","Math","random","toString","substring","randomString2","randomString3","payload","JSON","stringify","target","salt","REACT_APP_ENCRYPTION_SALT","random1","random2","random3","version","checksum","MD5","layer1","AES","encrypt","layer2","DES","layer3","TripleDES","base64Encoded","error","decryptUrl","encryptedUrl","atob","base64Part","split","decoded","decrypt","enc","Utf8","payloadStr","decrypted","finalResult","parsed","parse"],"sources":["C:/GBC/src/utils/encryption.js"],"sourcesContent":["const CryptoJS = require('crypto-js');\r\n\r\nconst ENCRYPTION_KEY = process.env.REACT_APP_ENCRYPTION_KEY || 'fallback-secure-key-2024-construction-pro-max-security';\r\n\r\nexport const encryptUrl = (url) => {\r\n  if (!ENCRYPTION_KEY) {\r\n    console.warn('Encryption key not found, using fallback');\r\n    return btoa(url);\r\n  }\r\n  \r\n  try {\r\n    // Create a longer payload with more random data\r\n    const timestamp = Date.now();\r\n    const randomString1 = Math.random().toString(36).substring(2, 15);\r\n    const randomString2 = Math.random().toString(36).substring(2, 15);\r\n    const randomString3 = Math.random().toString(36).substring(2, 15);\r\n    \r\n    const payload = JSON.stringify({\r\n      target: url,\r\n      timestamp: timestamp,\r\n      salt: process.env.REACT_APP_ENCRYPTION_SALT || 'construction-pro-salt-2024',\r\n      random1: randomString1,\r\n      random2: randomString2,\r\n      random3: randomString3,\r\n      version: '2.0',\r\n      checksum: CryptoJS.MD5(url + timestamp).toString()\r\n    });\r\n\r\n    // Triple layer encryption for maximum security\r\n    const layer1 = CryptoJS.AES.encrypt(payload, ENCRYPTION_KEY + '1').toString();\r\n    const layer2 = CryptoJS.DES.encrypt(layer1, ENCRYPTION_KEY + '2').toString();\r\n    const layer3 = CryptoJS.TripleDES.encrypt(layer2, ENCRYPTION_KEY + '3').toString();\r\n    \r\n    // Base64 encode and add prefix for longer URL\r\n    const base64Encoded = btoa(layer3);\r\n    \r\n    // Make it even longer by adding more random data\r\n    return base64Encoded + '&' + Math.random().toString(36).substring(2, 25);\r\n    \r\n  } catch (error) {\r\n    console.error('Encryption error:', error);\r\n    return btoa(url);\r\n  }\r\n};\r\n\r\nexport const decryptUrl = (encryptedUrl) => {\r\n  if (!ENCRYPTION_KEY) {\r\n    console.warn('Encryption key not found, using fallback');\r\n    return atob(encryptedUrl);\r\n  }\r\n  \r\n  try {\r\n    // Remove the additional random data\r\n    const base64Part = encryptedUrl.split('&')[0];\r\n    const decoded = atob(base64Part);\r\n    \r\n    // Triple layer decryption\r\n    const layer3 = CryptoJS.TripleDES.decrypt(decoded, ENCRYPTION_KEY + '3');\r\n    const layer2 = layer3.toString(CryptoJS.enc.Utf8);\r\n    const layer1 = CryptoJS.DES.decrypt(layer2, ENCRYPTION_KEY + '2');\r\n    const payloadStr = layer1.toString(CryptoJS.enc.Utf8);\r\n    const decrypted = CryptoJS.AES.decrypt(payloadStr, ENCRYPTION_KEY + '1');\r\n    const finalResult = decrypted.toString(CryptoJS.enc.Utf8);\r\n    \r\n    const parsed = JSON.parse(finalResult);\r\n    return parsed.target;\r\n    \r\n  } catch (error) {\r\n    console.error('Decryption error:', error);\r\n    return atob(encryptedUrl);\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}