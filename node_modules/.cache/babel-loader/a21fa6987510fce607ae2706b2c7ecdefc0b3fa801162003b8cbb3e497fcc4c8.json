{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback } from 'react';\nimport { encryptUrl, decryptUrl } from '../utils/encryption';\nexport const useEncryption = () => {\n  _s();\n  const encrypt = useCallback(data => {\n    try {\n      // Add timestamp and random data to make URLs longer and more secure-looking\n      const timestamp = Date.now();\n      const randomData = Math.random().toString(36).substring(2, 15);\n      const dataToEncrypt = JSON.stringify({\n        url: data,\n        ts: timestamp,\n        rand: randomData,\n        salt: process.env.REACT_APP_ENCRYPTION_SALT || 'default-salt'\n      });\n      return encryptUrl(dataToEncrypt);\n    } catch (error) {\n      console.error('Encryption error:', error);\n      return btoa(data); // Fallback to simple base64\n    }\n  }, []);\n  const decrypt = useCallback(encryptedData => {\n    try {\n      const decrypted = decryptUrl(encryptedData);\n      const parsed = JSON.parse(decrypted);\n      return parsed.url; // Return only the original URL\n    } catch (error) {\n      console.error('Decryption error:', error);\n      // Try fallback decryption\n      try {\n        return atob(encryptedData);\n      } catch {\n        return '/'; // Default to home if decryption fails\n      }\n    }\n  }, []);\n  return {\n    encrypt,\n    decrypt\n  };\n};\n_s(useEncryption, \"hBvg6r4yU//VXJIlQQczdOAtiKE=\");","map":{"version":3,"names":["useCallback","encryptUrl","decryptUrl","useEncryption","_s","encrypt","data","timestamp","Date","now","randomData","Math","random","toString","substring","dataToEncrypt","JSON","stringify","url","ts","rand","salt","process","env","REACT_APP_ENCRYPTION_SALT","error","console","btoa","decrypt","encryptedData","decrypted","parsed","parse","atob"],"sources":["C:/Users/user.DESKTOP-9V4975E/const/src/hooks/useEncryption.js"],"sourcesContent":["import { useCallback } from 'react';\r\nimport { encryptUrl, decryptUrl } from '../utils/encryption';\r\n\r\nexport const useEncryption = () => {\r\n  const encrypt = useCallback((data) => {\r\n    try {\r\n      // Add timestamp and random data to make URLs longer and more secure-looking\r\n      const timestamp = Date.now();\r\n      const randomData = Math.random().toString(36).substring(2, 15);\r\n      const dataToEncrypt = JSON.stringify({\r\n        url: data,\r\n        ts: timestamp,\r\n        rand: randomData,\r\n        salt: process.env.REACT_APP_ENCRYPTION_SALT || 'default-salt'\r\n      });\r\n      \r\n      return encryptUrl(dataToEncrypt);\r\n    } catch (error) {\r\n      console.error('Encryption error:', error);\r\n      return btoa(data); // Fallback to simple base64\r\n    }\r\n  }, []);\r\n\r\n  const decrypt = useCallback((encryptedData) => {\r\n    try {\r\n      const decrypted = decryptUrl(encryptedData);\r\n      const parsed = JSON.parse(decrypted);\r\n      return parsed.url; // Return only the original URL\r\n    } catch (error) {\r\n      console.error('Decryption error:', error);\r\n      // Try fallback decryption\r\n      try {\r\n        return atob(encryptedData);\r\n      } catch {\r\n        return '/'; // Default to home if decryption fails\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return { encrypt, decrypt };\r\n};"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,UAAU,EAAEC,UAAU,QAAQ,qBAAqB;AAE5D,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAMC,OAAO,GAAGL,WAAW,CAAEM,IAAI,IAAK;IACpC,IAAI;MACF;MACA,MAAMC,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;MAC5B,MAAMC,UAAU,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;MAC9D,MAAMC,aAAa,GAAGC,IAAI,CAACC,SAAS,CAAC;QACnCC,GAAG,EAAEZ,IAAI;QACTa,EAAE,EAAEZ,SAAS;QACba,IAAI,EAAEV,UAAU;QAChBW,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,yBAAyB,IAAI;MACjD,CAAC,CAAC;MAEF,OAAOvB,UAAU,CAACc,aAAa,CAAC;IAClC,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC,OAAOE,IAAI,CAACrB,IAAI,CAAC,CAAC,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsB,OAAO,GAAG5B,WAAW,CAAE6B,aAAa,IAAK;IAC7C,IAAI;MACF,MAAMC,SAAS,GAAG5B,UAAU,CAAC2B,aAAa,CAAC;MAC3C,MAAME,MAAM,GAAGf,IAAI,CAACgB,KAAK,CAACF,SAAS,CAAC;MACpC,OAAOC,MAAM,CAACb,GAAG,CAAC,CAAC;IACrB,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC;MACA,IAAI;QACF,OAAOQ,IAAI,CAACJ,aAAa,CAAC;MAC5B,CAAC,CAAC,MAAM;QACN,OAAO,GAAG,CAAC,CAAC;MACd;IACF;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAExB,OAAO;IAAEuB;EAAQ,CAAC;AAC7B,CAAC;AAACxB,EAAA,CArCWD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}